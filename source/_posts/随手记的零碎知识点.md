---
title: éšæ‰‹è®°çš„é›¶ç¢çŸ¥è¯†ç‚¹
date: 2021-11-04 18:25:26
tags: [çŸ¥è¯†ç‚¹]
categories: çŸ¥è¯†ç‚¹
---

# éšæ‰‹è®°çš„é›¶ç¢çŸ¥è¯†ç‚¹

## `JS` ä¸­çš„ `Map` å¯¹è±¡å’Œ `Python` ä¸­çš„å­—å…¸ç›¸ä¼¼
```js
// js
let map = new Map()
map.set("a", 1)
map.set("b", 2)
map.get("a")  // 1
map.get("c")  // undefined
```

```python
# python
dict = {}
dict["a"] = 1
dict["b"] = 2
print(dict["a"]) # 1
print(dict["c"]) # KeyError: 'c'
```

<!--more-->

---

## è§£å†³ `0.1 + 0.2 !== 0.3`
ç®€å•ç²—æš´æ³•ï¼šæŠŠæ•°å­—æå‡æˆæ•´æ•°ï¼Œå†é™¤

```js
let num = (0.1 * 1000 + 0.2 * 1000) / 1000
console.log(num) // 0.3
```

> Number.EPSILON
> `epsilon`æ˜¯ES6åœ¨`Number`ä¸Šæ–°å¢çš„ä¸€ä¸ªæå°çš„å¸¸é‡,å¦‚æœå°æ•°è®¡ç®—çš„è¯¯å·®å°äºå®ƒï¼Œé‚£ä¹ˆå°±å¯ä»¥è®¤ä¸ºæ˜¯è®¡ç®—æ­£ç¡®çš„ ã€‚


---

## `\x7A`ã€`\u007A`è¿™äº›ä¹±ç åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ
```js
'\z' === 'z'
'\172' === 'z'   // ASCIIä¸º172çš„å­—ç¬¦
'\x7A' === 'z'   // JS 16è¿›åˆ¶ï¼Œè½¬æ¢æˆ 8 è¿›åˆ¶ä¸º 172 ğŸ‘†
'\u007A' === 'z' // ASCIIç 
'\u{7A}' === 'z' // ES6 æ”¹è¿›çš„å¯ä»¥è¶…å‡ºä¸Šé™(0xFFFF)çš„ASCIIç 

// encodeURL
// https://www.sojson.com/encodeurl.html?ä¸­æ–‡å‚æ•°
'https://www.sojson.com/encodeurl.html?%E4%B8%AD%E6%96%87%E5%8F%82%E6%95%B0'

// UTF-8
// è¿™æ˜¯ä¸€ä¸ªä¾‹å­,this is a example
'&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;,this is a example'

// Unicode
// è¿™æ˜¯ä¸€ä¸ªä¾‹å­,this is a example
'&#36825;&#26159;&#19968;&#20010;&#20363;&#23376;&#44;&#116;&#104;&#105;&#115;&#32;&#105;&#115;&#32;&#97;&#32;&#101;&#120;&#97;&#109;&#112;&#108;&#101;'
```

---

## Math
- `Math.trunc()` å–æ•´
- `Math.sign()` åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯æ­£ã€è´Ÿè¿˜æ˜¯0
- æŒ‡æ•°è¿ç®—ç¬¦
  ```js
  2 ** 3  // 8

  let a = 4
  a **= 3 // 64
  ``` 

---

## å‡½æ•°å‚æ•°é»˜è®¤å€¼
```js
function log(x, y = "world") {
  console.log(x, y)
}
log('hello') // hello world
log('hello', 'china') // hello china
```

---

## å°¾é€’å½’ æŸ¯é‡ŒåŒ– ç®€å•äº†è§£ä¸‹
é˜²æ­¢æ ˆæº¢å‡ºï¼ŒèŠ‚çœå†…å­˜

## Vue watch ä¸ computed
- computedç”¨æ¥ç›‘æ§è‡ªå·±å®šä¹‰çš„å˜é‡ï¼Œè¯¥å˜é‡ä¸åœ¨dataé‡Œé¢å£°æ˜ï¼Œç›´æ¥åœ¨computedé‡Œé¢å®šä¹‰
- computedæ¯”è¾ƒé€‚åˆå¯¹å¤šä¸ªå˜é‡æˆ–è€…å¯¹è±¡è¿›è¡Œå¤„ç†åè¿”å›ä¸€ä¸ªç»“æœå€¼ï¼Œä¹Ÿå°±æ˜¯æ•°å¤šä¸ªå˜é‡ä¸­çš„æŸä¸€ä¸ªå€¼å‘ç”Ÿäº†å˜åŒ–åˆ™æˆ‘ä»¬ç›‘æ§çš„è¿™ä¸ªå€¼ä¹Ÿå°±ä¼šå‘ç”Ÿå˜åŒ–
> ä¸¾ä¾‹ï¼šè´­ç‰©è½¦é‡Œé¢çš„å•†å“åˆ—è¡¨å’Œæ€»é‡‘é¢ä¹‹é—´çš„å…³ç³»
- watchä¸»è¦ç”¨äºç›‘æ§vueå®ä¾‹çš„å˜åŒ–ï¼Œå®ƒç›‘æ§çš„å˜é‡å½“ç„¶å¿…é¡»åœ¨dataé‡Œé¢å£°æ˜æ‰å¯ä»¥ï¼Œå®ƒå¯ä»¥ç›‘æ§ä¸€ä¸ªå˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡

```js
 data: {
  a: 1,
  b: {
    c: 1
  },
  firstName: 'æŸ³',
  lastName: 'æ±Ÿå—'
 },

 watch: {
  // æ™®é€šçš„watchç›‘å¬
  a (val, oldVal) {
    console.log("a: " + val, oldVal);
  },

  // æ·±åº¦ç›‘å¬ï¼Œå¯ç›‘å¬åˆ°å¯¹è±¡ã€æ•°ç»„çš„å˜åŒ–
  b:{
    handler(val, oldVal) {
        console.log("b.c: " + val.c, oldVal.c);
    },
    deep:true, //true æ·±åº¦ç›‘å¬
    immediate: true // æ˜¯å¦åˆå§‹æ‰§è¡Œhandlerå‡½æ•°
  }
 },

 computed: {
   fullname () {
     return `${this.firstName} ${this.lastName}`
   }
 }
```

## Vueä¿®é¥°ç¬¦

|ä¿®é¥°ç¬¦               |ä½œç”¨                                                       |
|---------------------|----------------------------------------------------------|
|.native              |åŠ è½½è‡ªå®šä¹‰ç»„ä»¶çš„äº‹ä»¶ä¸Šï¼Œä¿è¯äº‹ä»¶èƒ½æ‰§è¡Œ(å¸¸è§ElementUIç»„ä»¶ä¸Š)   |
|.trim                |æŠŠ v-model çš„å€¼æ”¶å°¾ç©ºæ ¼å»æ‰                                 |
|.lazy                |æ”¹å˜è¾“å…¥æ¡†å€¼æ—¶ä¸å˜ï¼Œå–æ¶ˆèšç„¦æ—¶æ‰å˜                           |
|.stop                |é˜»æ­¢å†’æ³¡                                                   |
|.once                |åªæ‰§è¡Œä¸€æ¬¡                                                 |
|.self                |åªç‚¹å‡»äº‹ä»¶ç»‘å®šçš„æœ¬èº«æ‰ä¼šè§¦å‘                                 |
|.capture             |ç”±å¤–å‘å†…å†’æ³¡(åå‘å†’æ³¡)                                      |
|.left .middle .right |å·¦ã€ä¸­ã€å³é”®                                               |
|.passive             |è§£å†³ç§»åŠ¨ç«¯æ»šåŠ¨äº‹ä»¶å¡é¡¿ï¼Œç›¸å½“äº onscroll.lazy                 |
|.sync                |çˆ¶å­ç»„ä»¶ä¼ å€¼ï¼Œå­ç»„ä»¶æƒ³è¦æ›´æ–°è¿™ä¸ªå€¼ï¼Œå¯ä»¥ç”¨è¿™ä¸ªä¿®é¥°ç¬¦ç®€å†™       |
|.keyCode             |æŒ‰é”®è§¦å‘                                                   |

## VueæŒ‡ä»¤

|æŒ‡ä»¤|ä½œç”¨|
|-------------------|----------------------------------------------|
|v-text             |æ›´æ–°å…ƒç´  textContent                           |
|v-html             |æ›´æ–°å…ƒç´  innerHTML                             |
|v-show             |ç›¸å½“äºåŠ äº† display: none                       |
|v-if               |æ¡ä»¶æ¸²æŸ“ï¼Œæ•°æ®æ›´å®‰å…¨ï¼Œä¸é¢‘ç¹åˆ‡æ¢çš„æ—¶å€™æ›´èŠ‚çœæ€§èƒ½  |
|v-else-if  v-else  |å’Œ if elseif else ç±»ä¼¼                        |
|v-for              |åˆ—è¡¨å¾ªç¯æ¸²æŸ“ï¼Œæ•°ç»„ã€å¯¹è±¡ã€æ•°å­—ã€å­—ç¬¦ä¸²           |
|v-on               |ç»‘å®šäº‹ä»¶ï¼Œç¼©å†™ @                               |
|v-bind             |ç»‘å®šå˜é‡ï¼Œç¼©å†™ :                               |
|v-slot             |æ’æ§½åï¼Œç¼©å†™ #                                 |
|v-model            |åŒå‘ç»‘å®š                                      |
|v-once             |åªæ¸²æŸ“ä¸€æ¬¡                                    |
|v-pre              |æ²¡çœ‹è¿‡ï¼Œå¤§æ¦‚æ˜¯è·³è¿‡ä»–çš„ç¼–è¯‘è¿‡ç¨‹                  |
|v-cloak            |æ²¡çœ‹è¿‡ï¼Œå¤§æ¦‚æ˜¯è®©å®ƒä¿æŒåœ¨å…ƒç´ ä¸Šç›´åˆ°ç»“æŸç¼–è¯‘       |

## `v-if`å’Œ`v-for`ä¸€èµ·ä½¿ç”¨
åœ¨ vue ä¸­ä¸å»ºè®®`v-if`å’Œ`v-for`ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸º`v-for`çš„ä¼˜å…ˆçº§æ˜¯é«˜äºv-ifçš„
```html
<!-- bad -->
<div v-for="item in [1, 2, 3, 4, 5, 6, 7]" v-if="item !== 3">
    {{item}}
</div>
```

```js
// good
<div v-for="item in list">
    {{item}}
</div>

computed() {
  list() {
    return [1, 2, 3, 4, 5, 6, 7].filter(item => item !== 3)
  }
}
```

## Vue æ”¹å˜æ•°æ®ï¼Œé¡µé¢ä¸åˆ·æ–°çš„é—®é¢˜
åŸå› ï¼š`Object.defineProperty`æ²¡æœ‰å¯¹å¯¹è±¡çš„æ–°å±æ€§è¿›è¡Œå±æ€§åŠ«æŒ
> ç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue ä¸èƒ½æ£€æµ‹ä»¥ä¸‹æ•°ç»„çš„å˜åŠ¨ï¼š
> 1. å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶ï¼Œä¾‹å¦‚ï¼švm.items[indexOfItem] = newValue
> 2. å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼švm.items.length = newLength

```js
var vm = new Vue({
  data: {
    items: ['a', 'b', 'c']
  }
})
vm.items[1] = 'x' // ä¸æ˜¯å“åº”æ€§çš„
vm.items.length = 2 // ä¸æ˜¯å“åº”æ€§çš„
```

ä»¥ä¸‹ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°å’Œ `vm.items[indexOfItem] = newValue` ç›¸åŒçš„æ•ˆæœï¼ŒåŒæ—¶ä¹Ÿå°†åœ¨å“åº”å¼ç³»ç»Ÿå†…è§¦å‘çŠ¶æ€æ›´æ–°ï¼š

```js
// Vue.set
Vue.set(vm.items, indexOfItem, newValue)
```

```js
// Array.prototype.splice
vm.items.splice(indexOfItem, 1, newValue)
```

å¯¹è±¡æ–°å±æ€§æ— æ³•æ›´æ–°è§†å›¾ï¼šä½¿ç”¨`Vue.$set(obj, key, value)`ï¼Œç»„ä»¶ä¸­`this.$set(obj, key, value)`

ç¬¬äºŒç§æƒ…å†µï¼Œä½¿ç”¨```Vue.$set(arr, index, value)```