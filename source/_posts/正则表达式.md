---
title: 正则表达式
date: 2021-12-03 14:20:16
tags: [知识点, 正则]
categories: 知识点
---

身为前端开发工程师，使用正则表达式的频率不低，在前端校验表单、在IDE上批量替换、甚至写个小脚本的时候都会用到正则，我觉得还是有必要对正则专门开一篇笔记记录一下。

## 正则是什么
正则表达式(regular expression)描述了一种字符串匹配的模式（pattern），可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。

<!--more-->

## 正则有什么用
### 匹配（查找）
从一堆杂乱无章的文本里，找出你想要的指定规则的字符串信息
### 替换
对字符串按指定的规则做替换操作
### 分割
对字符串按照规则分割开
### 验证
验证输入的字符是否满足指定要求

---
对，正则表达式基本上就是为字符串服务的，为的就是找出一个规律，然后进行批量操作（中国人最爱的习惯: 批量😂）

## 如何写正则
### 先不急着看语法，先看一个匹配身份证的例子吧
```js
/^[1-9]\d{5}(18|19|[23]\d)\d{2}(0[1-9]|10|11|12)([012][1-9]|10|20|30|31)\d{3}[\dxX]$/
```
随便写一个身份证号: 50012319871221012x
我们把它拆开来看，一共可以分为个部分

1. `/^$/`
开头结尾，正则是包裹在 `//` 里的，至于`^`和`$`，是文本的开头和结尾符号，加上这俩符号之后，就只匹配以这俩开头结尾的文本。

2. `[1-9]\d{5}`
匹配了身份证前六位 500123
`[1-9]`限制了第一位不能为0，`\d{5}`匹配了后面跟有任意5位数字

3. `(18|19|[23]\d)\d{2}`
匹配了年份 1987
`(18|19|[23]\d)`匹配了年份只能以 18  19  2x  3x 开头
`\d{2}`匹配了后面跟有任意2位数字

4. `(0[1-9]|10|11|12)`
匹配了月份 12
`0[1-9]`匹配了 01-09 月
`|10|11|12`匹配了剩下的三个月

5. `([012][1-9]|10|20|30|31)`
匹配了日 21
`[012][1-9]`匹配了 01-09, 11-19, 21-29
`|10|20|30|31`匹配了剩下的日

6. `\d{3}[\dxX]`
匹配了身份证后4位 012x
`\d{3}`匹配了4位中的前 3 位
`\dxX`匹配了最后一位可以是数字，也可以是 x 或 X

### 大概看出了一些规律了吧
比如`\d`原来就是代表任意数字，`[1-9]`代表1-9中的任意一位，`10|20|30`代表在这三个里匹配任意一个之类的。
这些都是正则的语法，其实日常使用的语法很少，下面就看看语法吧，我也会列出一些常用语法配合。

## 语法

|代号     |含义                     |
|---------|------------------------|
|\d \w \s |数字 字符 空格           |
|\D \W \S |非数字 非字符 非空格      |
|[abc]    |匹配 a b c 中的一个字母   |
|[a-z]    |匹配 a-z 的一个字母       |
|[^abz]   |匹配除了 a b c 的其他字母 |
|aa\|bb   |匹配 aa 或 bb            |
|.        |除换行符以外的所有字符    |
|^        |字符串开头               |
|$        |字符串结尾               |
|?        |0 次或 1 次匹配          |
|*        |0 次或 多次匹配          |
|+        |1 次或 多次匹配          |
|{n}      |n 次匹配                 |
|{n,}     |n 次以上匹配             |
|{n,m}    |n 到 m 次匹配            |

**注意：正则表达式里不能带有空格，别在数字和符号中加空格加习惯了😅**

## 修饰符
正则默认是懒匹配，就是匹配到第一个之后就不匹配了，所以需要修饰符来告诉它要怎样匹配。
匹配文本：1234开锁ABcd
```js
/\d/  // 只能匹配到 1
/\d/g  // 有1 2 3 4 四个匹配
/[a-z]/  // 只能匹配到 c
/[a-z]/g  // 有 c d 两个匹配
/[a-z]/gi  // 有 a b c d 四个匹配
```

|代号     |含义           |
|---------|--------------|
|g        |全局匹配       |
|i        |忽略大小写     |
|m        |多行匹配       |

## 你可以到[这里](https://c.runoob.com/front-end/854/)去试玩一下正则

## 好了，你已经看完正则的基本语法了，试着写一下下面的规则吧~
即使我在编辑这篇文章的时候也在使用正则表达式
![正则](1.gif)

答案在上面的网站里
1. 数字
> 数字
> n位的数字
> 至少n位的数字
> m-n位的数字
> 零和非零开头的数字
> 非零开头的最多带两位小数的数字
> 带1-2位小数的正数或负数
> 正数、负数、和小数
> 有两位小数的正实数
> 有1~3位小数的正实数
> 非零的正整数
> 非零的负整数
> 非负整数
> 非正整数
> 非负浮点数
> 非正浮点数
> 正浮点数
> 负浮点数
> 浮点数

2. 字符
> 汉字
> 英文和数字
> 长度为3-20的所有字符
> 由26个英文字母组成的字符串
> 由26个大写英文字母组成的字符串
> 由26个小写英文字母组成的字符串
> 由数字和26个英文字母组成的字符串
> 由数字、26个英文字母或者下划线组成的字符串
> 中文、英文、数字包括下划线
> 中文、英文、数字但不包括下划线等符号
> 可以输入含有^%&',;=?$\"等字符
> 禁止输入含有~的字符

3. 特殊需求
> Email地址
> 域名
> 手机号码
> 身份证号(15位、18位数字)，最后一位是校验位，可能为数字或字符X
> 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)
> 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)
> 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在 8-10 之间)
> 日期格式
> 钱的输入格式
> 中文字符
> 空白行的正则表达式
> HTML标记的正则表达式
> 腾讯QQ号
> 中国邮政编码
> IPv4地址